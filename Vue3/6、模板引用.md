# 9：模板引用

如果我们需要直接访问组件中的底层`DOM`元素，可使用`vue`提供特殊的`ref`属性来访问


## 9.1：访问模板引用

1.  在视图元素中采用`ref`属性来设置需要访问的`DOM`元素

1.  该`ref`属性可采用字符值的执行设置
2.  该`ref`属性可采用`v-bind:`或`:ref`的形式来绑定函数，其函数的第一个参数则为该元素

2.  如果元素的`ref`属性值采用的是字符串形式

1.  在选项式 API `JS`中，可通过`this.$refs`来访问模板引用
2.  在组合式 API `JS`中，我们需要声明一个同名的`ref`变量，来获得该模板的引用

访问模板引用【选项式】

访问模板引用【组合式】


## 9.2：`v-for`中的模板引用

当在`v-for`中使用模板引用时：

1.  如果`ref`值是字符串形式，在元素被渲染后包含对应整个列表的所有元素【数组】
2.  如果`ref`值是函数形式，则会每渲染一个列表元素则会执行对应的函数【不推荐使用】

**注意：**需要`v3.2.25`及以上版本


列表渲染指令中的模板引用【选项式】

列表渲染指令中的模板引用【组合式】



## 9.3：组件上的`ref`

模板引用也可以被用在一个子组件上；这种情况下引用中获得的值是组件实例

1.  如果子组件使用的是选项式 API ，默认情况下父组件可以随意访问该子组件的数据和函数，除非在子组件使用`expose`选项来暴露特定的数据或函数，`expose`值为字符串数组
2.  如果子组件使用的是组合式 API `<script setup>`，那么该子组件默认是私有的，则父组件无法访问该子组件，除非子组件在其中通过`defineExpose`宏采用对象形式显式暴露特定的数据或函数

App.vue【选项式】

Login.vue【选项式】

App.vue【组合式】

Login.vue【组合式】





